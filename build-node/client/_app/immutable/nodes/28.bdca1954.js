import{S as P,i as y,s as A,k as m,l as p,m as f,h,n as L,b as D,G as b,H as u,o as G}from"../chunks/index.137f5445.js";import{S as R,Y as F,b as T,i as j,f as z,A as E,D as k,P as I,W as O,L as W,v as q,c as H,C as V}from"../chunks/three.module.c2ac7129.js";import{O as $}from"../chunks/OrbitControls.e9bb9833.js";import{G as B}from"../chunks/GLTFLoader.e74a6222.js";import{D as N}from"../chunks/DRACOLoader.8488915b.js";import{G as U}from"../chunks/lil-gui.esm.5b862306.js";function Y(g){let t,e,n;return{c(){t=m("div"),e=m("div"),n=m("canvas"),this.h()},l(i){t=p(i,"DIV",{});var a=f(t);e=p(a,"DIV",{class:!0});var c=f(e);n=p(c,"CANVAS",{class:!0}),f(n).forEach(h),c.forEach(h),a.forEach(h),this.h()},h(){L(n,"class","webgl svelte-1xjiexi"),L(e,"class","app svelte-1xjiexi")},m(i,a){D(i,t,a),b(t,e),b(e,n)},p:u,i:u,o:u,d(i){i&&h(t)}}}function J(g){return G(()=>{H.enabled=!1,new U;const t=document.querySelector("canvas.webgl"),e=new R,n=new N;n.setDecoderPath("../../node_modules/three/examples/jsm/libs/draco/"),n.preload();const i=new B;i.setDRACOLoader(n);let a=null;i.load("/three/journey/22/models/Fox/glTF/Fox.gltf",d=>{for(a=new F(d.scene),a.clipAction(d.animations[2]).play();d.scene.children.length>0;){const _=d.scene.children[0];_.scale.set(.05,.05,.05),e.add(_)}});const c=new T(new j(10,10),new z({color:"#444444",metalness:0,roughness:.5}));c.receiveShadow=!0,c.rotation.x=-Math.PI*.5,e.add(c);const M=new E(16777215,.8);e.add(M);const s=new k(16777215,.6);s.castShadow=!0,s.shadow.mapSize.set(1024,1024),s.shadow.camera.far=15,s.shadow.camera.left=-7,s.shadow.camera.top=7,s.shadow.camera.right=7,s.shadow.camera.bottom=-7,s.position.set(5,5,5),e.add(s);const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,l.aspect=o.width/o.height,l.updateProjectionMatrix(),r.setSize(o.width,o.height),r.setPixelRatio(Math.min(window.devicePixelRatio,2))});const l=new I(75,o.width/o.height,.1,100);l.position.set(2,2,2),e.add(l);const w=new $(l,t);w.target.set(0,.75,0),w.enableDamping=!0;const r=new O({canvas:t});r.outputColorSpace=W,r.shadowMap.enabled=!0,r.shadowMap.type=q,r.setSize(o.width,o.height),r.setPixelRatio(Math.min(window.devicePixelRatio,2));const C=new V;let v=0;const x=()=>{const d=C.getElapsedTime(),S=d-v;v=d,a==null||a.update(S),w.update(),r.render(e,l),window.requestAnimationFrame(x)};x()}),[]}class ae extends P{constructor(t){super(),y(this,t,J,Y,A,{})}}export{ae as component};
