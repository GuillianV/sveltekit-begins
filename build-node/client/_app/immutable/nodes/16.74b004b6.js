import{S as g,i as m,s as w,k as c,a as u,J as f,l as d,h,c as p,m as L,n as r,G as v,b as l,H as o,o as _,w as S}from"../chunks/index.137f5445.js";import{S as b,P as y,B as D,D as x,H as z,a as E,W as M}from"../chunks/three.module.cb2436d1.js";import{G}from"../chunks/GLTFLoader.4d8dea84.js";class H{constructor(e){if(this.width=100,this.height=100,typeof e=="object"&&(this.width=e.width??this.width,this.height=e.height??this.height),!(typeof window>"u")){this.isDragging=!1,this.scene=new b,this.camera=new y(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=10,this.geometry=new D,this.directionalLight=new x(9474218),this.directionalLight.position.set(-10,10,-10).normalize(),this.scene.add(this.directionalLight),this.hemisphereLight=new z(16777215,4473924),this.hemisphereLight.position.set(1,1,1),this.scene.add(this.hemisphereLight),this.pointLight=new E(0,1.2),this.pointLight.position.set(-10,10,-10).normalize(),this.scene.add(this.pointLight),this.renderer=null,this.starnight=null,self=this;var n=new G;n.load("/models/switch/scene.gltf",function(t){self.starnight=t.scene,self.starnight.castShadow=!0,self.starnight.receiveShadow=!0,self.scene.add(self.starnight)}),window.addEventListener("mousedown",this.onMouseDown.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this)),window.addEventListener("resize",this.resize),window.addEventListener("mousemove",t=>{if(this.isDragging){const i=t.clientX,s=t.clientY;this.starnight.rotation.y+=(i-this.width/2)*5e-5,this.starnight.rotation.x+=(s-this.height/2)*5e-5,this.renderer.render(this.scene,this.camera)}})}}onMouseDown(e){this.isDragging=!0}onMouseUp(e){this.isDragging=!1}resize(){this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()}animate(){requestAnimationFrame(()=>{this.animate()}),this.isDragging||this.renderer.render(this.scene,this.camera)}createScene(e){this.renderer=new M({antialias:!0,canvas:e,alpha:!0}),this.resize(),this.animate()}}function P(a){let e,n,t;return{c(){e=c("meta"),n=u(),t=c("canvas"),this.h()},l(i){const s=f("svelte-1p0pas8",document.head);e=d(s,"META",{name:!0,content:!0}),s.forEach(h),n=p(i),t=d(i,"CANVAS",{class:!0}),L(t).forEach(h),this.h()},h(){document.title="Three.js",r(e,"name","description"),r(e,"content","Three.js gltf app built with Svelte"),r(t,"class","svelte-7u7asf")},m(i,s){v(document.head,e),l(i,n,s),l(i,t,s),a[1](t)},p:o,i:o,o,d(i){h(e),i&&h(n),i&&h(t),a[1](null)}}}function T(a,e,n){let t;_(()=>{new H({width:window.innerWidth,height:window.innerHeight}).createScene(t)});function i(s){S[s?"unshift":"push"](()=>{t=s,n(0,t)})}return[t,i]}class C extends g{constructor(e){super(),m(this,e,T,P,w,{})}}export{C as component};
