import{S as W,i as k,s as q,k as x,q as V,a as B,l as S,m as M,r as O,h as f,c as X,n as L,b as N,G as w,H as E,o as Y}from"../chunks/index.137f5445.js";import{S as Z,T as $,A as U,D as J,a as K,f as Q,b as ee,B as te,P as ae,W as ie,L as oe,aX as ne,c as se,d as re,C as le}from"../chunks/three.module.c2ac7129.js";import{O as de}from"../chunks/OrbitControls.e9bb9833.js";import{g as R}from"../chunks/index.7127c1b0.js";import{S as ce}from"../chunks/ScrollTrigger.d950decd.js";import{G as pe}from"../chunks/GLTFLoader.e74a6222.js";import{G as he}from"../chunks/lil-gui.esm.5b862306.js";function me(T){let t,n,a,m,i,r,d;return{c(){t=x("div"),n=x("h1"),a=V("La Meule !"),m=B(),i=x("div"),r=x("div"),d=x("canvas"),this.h()},l(c){t=S(c,"DIV",{id:!0,class:!0});var l=M(t);n=S(l,"H1",{class:!0});var y=M(n);a=O(y,"La Meule !"),y.forEach(f),m=X(l),i=S(l,"DIV",{});var C=M(i);r=S(C,"DIV",{class:!0});var b=M(r);d=S(b,"CANVAS",{class:!0}),M(d).forEach(f),b.forEach(f),C.forEach(f),l.forEach(f),this.h()},h(){L(n,"class","svelte-1rxoshu"),L(d,"class","webgl svelte-1rxoshu"),L(r,"class","app svelte-1rxoshu"),L(t,"id","three-container"),L(t,"class","svelte-1rxoshu")},m(c,l){N(c,t,l),w(t,n),w(n,a),w(t,m),w(t,i),w(i,r),w(r,d)},p:E,i:E,o:E,d(c){c&&f(t)}}}function ge(T){return Y(()=>{se.enabled=!1,R.registerPlugin(ce);const t=new he,n=document.querySelector("canvas.webgl"),a=new Z,m=new re(v=>{console.log("Everythig Loaded")},v=>{},v=>{console.log(v)}),i=new $(m),r=i.load("/three/lameule/texture/leather/Albedo.jpg"),d=i.load("/three/lameule/texture/leather/AmbientOcclusion.jpg"),c=i.load("/three/lameule/texture/leather/Normal.jpg"),l=i.load("/three/lameule/texture/leather/Height.png"),y=i.load("/three/lameule/texture/leather/Roughness.jpg");new pe(m).load("/models/lameule/cheeese.gltf",function(v){const e=v.scene;e.traverse(function(z){z.isMesh&&(z.geometry.center(),z.material.emissiveIntensity=6,z.castShadow=!0)}),e.scale.set(3,3,3),e.position.y=.19,a.add(e);let A=new R.timeline({scrollTrigger:{trigger:"#three-container",start:"top top",end:"+=2000px",pin:!0,scrub:!0,pinSpacing:!0}});A.to(e.position,{y:e.position.y+.5}),A.to(e.rotation,{z:e.rotation.z+Math.PI,duration:2}),A.to(e.position,{y:e.position.y});let P=new R.timeline;const j={spinRight:()=>{P.isActive()||P.to(e.rotation,{y:e.rotation.y+Math.PI*.5})},spinLeft:()=>{P.isActive()||P.to(e.rotation,{y:e.rotation.y-Math.PI*.5})}},u=t.addFolder("Meule");u.add(e.position,"x").min(-.5).max(.5).step(.01).name("position X"),u.add(e.position,"y").min(e.position.y).max(.5).step(.01).name("position Y"),u.add(e.position,"z").min(-.5).max(.5).step(.01).name("position Z"),u.add(e,"visible"),u.add(j,"spinRight").name("Spin Right !"),u.add(j,"spinLeft").name("Spin Left !")});const b=new U("#ffffff",.3);a.add(b);const g=new J("#ffffff",.8);g.castShadow=!0,g.shadow.mapSize.height=1024,g.shadow.mapSize.width=1024,g.shadow.radius=3,g.position.set(2,2,2),a.add(g);const p=new K(16777215,.4,10,2);p.position.set(-1,1,-1),p.castShadow=!0,a.add(p);const _=t.addFolder("Point Light");_.add(p.position,"x").min(-3.5).max(3.5).step(.1).name("position X"),_.add(p.position,"y").min(-3.5).max(3.5).step(.1).name("position Y"),_.add(p.position,"z").min(-3.5).max(3.5).step(.1).name("position Z"),_.add(p,"visible");const F=new Q({map:r,transparent:!0,aoMap:d,displacementMap:l,displacementScale:0,normalMap:c,roughnessMap:y}),G=new ee(new te(1.5,.25,1.5),F);G.receiveShadow=!0,a.add(G);const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,h.aspect=o.width/o.height,h.updateProjectionMatrix(),s.setSize(o.width,o.height),s.setPixelRatio(Math.min(window.devicePixelRatio,2))});const h=new ae(75,o.width/o.height,.1,100);h.position.z=3,h.position.y=2,a.add(h);const I=new de(h,n);I.enableDamping=!0;const s=new ie({canvas:n,alpha:!0});s.outputColorSpace=oe,s.setSize(o.width,o.height),s.setPixelRatio(Math.min(window.devicePixelRatio,2)),s.shadowMap.enabled=!0,s.toneMapping=ne,s.toneMappingExposure=1;const H=new le,D=()=>{H.getElapsedTime(),I.update(),s.render(a,h),window.requestAnimationFrame(D)};D()}),[]}class Le extends W{constructor(t){super(),k(this,t,ge,me,q,{})}}export{Le as component};
