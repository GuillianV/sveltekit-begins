import{S as R,i as j,s as q,k as y,l as M,m as S,h as v,n as C,b as A,G as F,H as _,o as H}from"../chunks/index.137f5445.js";import{k as I,F as O,l as B,E as D,S as N,T as W,m as V,N as G,b as k,n as $,A as J,a as U,P as K,W as Q,L as Z,c as X,d as Y,C as ee}from"../chunks/three.module.c2ac7129.js";import{O as te}from"../chunks/OrbitControls.e9bb9833.js";import{G as ne}from"../chunks/lil-gui.esm.5b862306.js";class oe extends I{constructor(t){super(t)}load(t,e,n,o){const s=this,i=new O(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,function(d){const l=s.parse(JSON.parse(d));e&&e(l)},n,o)}parse(t){return new ie(t)}}class ie{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){const n=[],o=se(t,e,this.data);for(let s=0,i=o.length;s<i;s++)n.push(...o[s].toShapes());return n}}function se(p,t,e){const n=Array.from(p),o=t/e.resolution,s=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*o,i=[];let d=0,l=0;for(let u=0;u<n.length;u++){const m=n[u];if(m===`
`)d=0,l-=s;else{const r=ae(m,o,d,l,e);d+=r.offsetX,i.push(r.path)}}return i}function ae(p,t,e,n,o){const s=o.glyphs[p]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+p+'" does not exists in font family '+o.familyName+".");return}const i=new B;let d,l,u,m,r,h,w,g;if(s.o){const c=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let a=0,f=c.length;a<f;)switch(c[a++]){case"m":d=c[a++]*t+e,l=c[a++]*t+n,i.moveTo(d,l);break;case"l":d=c[a++]*t+e,l=c[a++]*t+n,i.lineTo(d,l);break;case"q":u=c[a++]*t+e,m=c[a++]*t+n,r=c[a++]*t+e,h=c[a++]*t+n,i.quadraticCurveTo(r,h,u,m);break;case"b":u=c[a++]*t+e,m=c[a++]*t+n,r=c[a++]*t+e,h=c[a++]*t+n,w=c[a++]*t+e,g=c[a++]*t+n,i.bezierCurveTo(r,h,w,g,u,m);break}}return{offsetX:s.ha*t,path:i}}class re extends D{constructor(t,e={}){const n=e.font;if(n===void 0)super();else{const o=n.generateShapes(t,e.size);e.depth=e.height!==void 0?e.height:50,e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),super(o,e)}this.type="TextGeometry"}}function ce(p){let t,e,n;return{c(){t=y("div"),e=y("div"),n=y("canvas"),this.h()},l(o){t=M(o,"DIV",{});var s=S(t);e=M(s,"DIV",{class:!0});var i=S(e);n=M(i,"CANVAS",{class:!0}),S(n).forEach(v),i.forEach(v),s.forEach(v),this.h()},h(){C(n,"class","webgl svelte-1xjiexi"),C(e,"class","app svelte-1xjiexi")},m(o,s){A(o,t,s),F(t,e),F(e,n)},p:_,i:_,o:_,d(o){o&&v(t)}}}function he(p){return H(()=>{console.time("three"),X.enabled=!1;const t=new ne,e=document.querySelector("canvas.webgl"),n=new N,o=new Y,i=new W(o).load("/three/journey/12/textures/gradients/5.jpg"),d=new oe(o);let l;d.load("/three/journey/13/fonts/Belanosima_SemiBold_Regular.json",f=>{l=f}),o.onLoad=f=>{let T={font:l,size:.5,height:.2,curveSegments:3,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:2};const L=new re("Guillian",T);L.center();const x=new V;i.minFilter=G,i.magFilter=G,i.generateMipmaps=!1,x.gradientMap=i;const E=new k(L,x);t.addFolder("Text").add(x,"wireframe"),n.add(E);const z=new $(1,2,8,8);for(let P=0;P<100;P++){const b=new k(z,x);n.add(b),b.position.set((Math.random()-.5)*50,(Math.random()-.5)*50,(Math.random()-.5)*50),b.rotation.set((Math.random()-.5)*Math.PI,(Math.random()-.5)*Math.PI,(Math.random()-.5)*Math.PI)}};const u=new J(16777215,.5);u.position.set(2,2,2),n.add(u);const m=new U(16777215,.5);m.position.set(-4,4,4),n.add(m);const r={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{r.width=window.innerWidth,r.height=window.innerHeight,h.aspect=r.width/r.height,h.updateProjectionMatrix(),g.setSize(r.width,r.height),g.setPixelRatio(Math.min(window.devicePixelRatio,2))});const h=new K(75,r.width/r.height,.1,1e3);h.position.x=1,h.position.y=1,h.position.z=2,n.add(h);const w=new te(h,e);w.enableDamping=!0,w.maxDistance=40,w.minDistance=1;const g=new Q({canvas:e,alpha:!0});g.outputColorSpace=Z,g.setSize(r.width,r.height),g.setPixelRatio(Math.min(window.devicePixelRatio,2));const c=new ee,a=()=>{c.getElapsedTime(),w.update(),g.render(n,h),window.requestAnimationFrame(a)};a(),console.timeEnd("three")}),[]}class ge extends R{constructor(t){super(),j(this,t,he,ce,q,{})}}export{ge as component};
