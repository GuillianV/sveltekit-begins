import{S as xe,i as Se,s as fe,k as D,l as E,m as A,h as k,n as te,b as ye,G as ae,H as O,o as be}from"../chunks/index.137f5445.js";import{S as je,w as ve,T as ze,x as s,N as C,G as oe,f as M,b as m,y as Ge,z as Pe,i as se,a as L,h as _e,B as ke,A as Ce,D as Le,P as Be,W as Ie,L as Te,c as Fe,C as He}from"../chunks/three.module.c2ac7129.js";import{O as Re}from"../chunks/OrbitControls.e9bb9833.js";import{G as De}from"../chunks/lil-gui.esm.5b862306.js";function Ee(W){let a,i,t;return{c(){a=D("div"),i=D("div"),t=D("canvas"),this.h()},l(w){a=E(w,"DIV",{});var e=A(a);i=E(e,"DIV",{class:!0});var b=A(i);t=E(b,"CANVAS",{class:!0}),A(t).forEach(k),b.forEach(k),e.forEach(k),this.h()},h(){te(t,"class","webgl svelte-1xjiexi"),te(i,"class","app svelte-1xjiexi")},m(w,e){ye(w,a,e),ae(a,i),ae(i,t)},p:O,i:O,o:O,d(w){w&&k(a)}}}function Ae(W){return be(()=>{Fe.enabled=!1;const a=new De,i=document.querySelector("canvas.webgl"),t=new je,w=new ve("#262837",1,15);t.fog=w;const e=new ze,b=e.load("/three/journey/17/textures/door/color.jpg"),ne=e.load("/three/journey/17/textures/door/alpha.jpg"),re=e.load("/three/journey/17/textures/door/ambientOcclusion.jpg"),ie=e.load("/three/journey/17/textures/door/metalness.jpg"),de=e.load("/three/journey/17/textures/door/normal.jpg"),he=e.load("/three/journey/17/textures/door/height.jpg"),pe=e.load("/three/journey/17/textures/door/roughness.jpg"),x=e.load("/three/journey/17/textures/bricks/color.jpg");x.repeat.x=2,x.wrapS=s,x.magFilter=C,x.generateMipmaps=!1;const S=e.load("/three/journey/17/textures/bricks/ambientOcclusion.jpg");S.repeat.x=2,S.wrapS=s,S.magFilter=C,S.generateMipmaps=!1;const f=e.load("/three/journey/17/textures/bricks/normal.jpg");f.repeat.x=2,f.wrapS=s,f.magFilter=C,f.generateMipmaps=!1;const y=e.load("/three/journey/17/textures/bricks/roughness.jpg");y.repeat.x=2,y.wrapS=s,y.magFilter=C,y.generateMipmaps=!1;const j=e.load("/three/journey/17/textures/grass/color.jpg");j.repeat.set(12,12),j.wrapS=s,j.wrapT=s;const v=e.load("/three/journey/17/textures/grass/ambientOcclusion.jpg");v.repeat.set(12,12),v.wrapS=s,v.wrapT=s;const z=e.load("/three/journey/17/textures/grass/normal.jpg");z.repeat.set(12,12),z.wrapS=s,z.wrapT=s;const G=e.load("/three/journey/17/textures/grass/roughness.jpg");G.repeat.set(12,12),G.wrapS=s,G.wrapT=s;const g=new oe;t.add(g);let B=3;const q=new M({map:x,aoMap:S,normalMap:f,roughnessMap:y});console.log(q);const I=new m(new Ge(7,B,4,10),q);I.position.y=B/2,I.castShadow=!0,g.add(I);const N=2,V=new Pe(3.5,N,4);V.rotateY(Math.PI*.25);let T=new m(V,new M({color:"#b35f45"}));T.position.y=B+N/2,T.scale.x=1.5,g.add(T);const Y=2,ce=new M({map:b,transparent:!0,alphaMap:ne,aoMap:re,displacementMap:he,displacementScale:.1,normalMap:de,metalnessMap:ie,roughnessMap:pe}),F=new m(new se(2,Y),ce);F.position.y=Y/2,F.position.z=2.01,g.add(F);const u=new L("#ff7d46",1,7);u.castShadow=!0,u.shadow.mapSize.width=256,u.shadow.mapSize.height=256,u.shadow.mapSize.far=7,u.position.set(0,2.2,3.7),g.add(u);const le=new M({map:j,aoMap:v,normalMap:z,roughnessMap:G}),P=new m(new se(20,20),le);P.rotation.x=-Math.PI*.5,P.position.y=0,P.receiveShadow=!0,t.add(P);const $=new _e(1,16,16),U=new M({color:"#89c854"}),X=new m($,U);X.position.set(3.99,.2,1.8);const H=new m($,U);H.scale.set(.5,.5,.5),H.position.set(5.2,.2,2),g.add(X,H);const J=new oe;t.add(J);const K=1.5,we=new ke(.8,K,.3),me=new M({color:"#dadada"});for(let o=0;o<25;o++){const R=Math.random()-.5,ue=Math.sin(R*Math.PI*2),Me=Math.cos(R*Math.PI*2),_=new m(we,me);_.rotation.set(R*.1*Math.PI,Math.random()*.1*Math.PI,0),_.position.set(ue*7+(Math.random()-.5)*3,K/2-.1,Me*7+(Math.random()-.5)*3),_.castShadow=!0,J.add(_)}const Q=new Ce("#b9d5ff",.12);a.add(Q,"intensity").min(0).max(1).step(.001),t.add(Q);const n=new Le("#b9d5ff",.12);n.castShadow=!0,n.shadow.mapSize.width=256,n.shadow.mapSize.height=256,n.shadow.mapSize.far=7,n.position.set(4,5,-2),a.add(n,"intensity").min(0).max(1).step(.001),a.add(n.position,"x").min(-5).max(5).step(.001),a.add(n.position,"y").min(-5).max(5).step(.001),a.add(n.position,"z").min(-5).max(5).step(.001),t.add(n);const d=new L("#ff00ff",2,3);d.castShadow=!0,d.shadow.mapSize.width=256,d.shadow.mapSize.height=256,d.shadow.mapSize.far=7;const h=new L("#dadada",2,3);h.castShadow=!0,h.shadow.mapSize.width=256,h.shadow.mapSize.height=256,h.shadow.mapSize.far=7;const p=new L("#E5d30D",2,3);p.castShadow=!0,p.shadow.mapSize.width=256,p.shadow.mapSize.height=256,p.shadow.mapSize.far=7,t.add(d,h,p);const r={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{r.width=window.innerWidth,r.height=window.innerHeight,c.aspect=r.width/r.height,c.updateProjectionMatrix(),l.setSize(r.width,r.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2))});const c=new Be(75,r.width/r.height,.1,100);c.position.x=4,c.position.y=2,c.position.z=5,t.add(c);const Z=new Re(c,i);Z.enableDamping=!0;const l=new Ie({canvas:i});l.outputColorSpace=Te,l.setSize(r.width,r.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.setClearColor("#262837"),l.shadowMap.enabled=!0;const ge=new He,ee=()=>{const o=ge.getElapsedTime();d.position.x=Math.cos(o*.2)*6,d.position.y=Math.abs(Math.sin(o*.5))+1,d.position.z=Math.sin(o*.2)*6,h.position.x=Math.cos(-o*.3)*7,h.position.y=Math.abs(Math.sin(o*.5))+1,h.position.z=Math.sin(-o*.3)*7,p.position.x=Math.cos(o*.4)*8,p.position.y=Math.abs(Math.sin(o*.6))+1,p.position.z=Math.sin(o*.4)*8,Z.update(),l.render(t,c),window.requestAnimationFrame(ee)};ee()}),[]}class Ve extends xe{constructor(a){super(),Se(this,a,Ae,Ee,fe,{})}}export{Ve as component};
