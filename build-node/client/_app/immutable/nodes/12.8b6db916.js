import{S as l,i as d,s as u,y as m,a as g,k as p,z as f,c as w,l as _,m as b,h as o,n as y,A as v,b as c,g as S,d as L,B as M,I as z,o as D,w as $}from"../chunks/index.137f5445.js";import{H as x}from"../chunks/H1.3d9f7839.js";import{t as E}from"../chunks/index.32dea7b4.js";import{S as j,P,B as Y,a as A,W as X}from"../chunks/three.module.fb1d7e0c.js";import{l as T}from"../chunks/SplineLoader.f33477e3.js";let B=!0,C=!0;const H=!0,K=Object.freeze(Object.defineProperty({__proto__:null,csr:B,prerender:H,ssr:C},Symbol.toStringTag,{value:"Module"}));class O{constructor(t){this.width=100,this.height=100,typeof t=="object"&&(this.width=t.width??this.width,this.height=t.height??this.height),!(typeof window>"u")&&(this.isDragging=!1,this.scene=new j,this.camera=new P(75,this.width/this.height,.1,1e3),this.camera.position.z=0,this.geometry=new Y,this.pointLight=new A(2960946,15,500),this.pointLight.position.set(0,0,-140),this.scene.add(this.pointLight),this.renderer=null,this.starnight=null,this.onLoadModel())}async onLoadModel(){self=this,this.loader=new T,this.loader.load("https://prod.spline.design/tYiOAd2Q-bTsKrEh/scene.splinecode",t=>{self.starnight=t,self.scene.add(self.starnight)})}onMouseDown(t){this.isDragging=!0,this.mouseX=t.clientX,this.mouseY=t.clientY}onMouseUp(t){this.isDragging=!1}resize(){this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()}animate(){requestAnimationFrame(()=>{this.animate()}),this.starnight!=null&&(this.isDragging?(this.starnight.rotation.y+=((this.mouseX??0)-this.width/2)*5e-5,this.starnight.rotation.x+=((this.mouseY??0)-this.height/2)*5e-5):this.starnight.rotation.y+=.001,this.renderer.render(this.scene,this.camera))}createScene(t){window.addEventListener("mousedown",this.onMouseDown.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this)),window.addEventListener("resize",this.resize),window.addEventListener("mousemove",i=>{this.isDragging&&this.starnight!=null&&(this.mouseX=i.clientX,this.mouseY=i.clientY)}),this.renderer=new X({antialias:!0,canvas:t,alpha:!0}),this.resize(),this.animate()}}function W(r){let t,i,s,n;return t=new x({props:{innerText:r[1]("projects.titre")}}),{c(){m(t.$$.fragment),i=g(),s=p("canvas"),this.h()},l(e){f(t.$$.fragment,e),i=w(e),s=_(e,"CANVAS",{class:!0}),b(s).forEach(o),this.h()},h(){y(s,"class","svelte-f395dx")},m(e,h){v(t,e,h),c(e,i,h),c(e,s,h),r[2](s),n=!0},p(e,[h]){const a={};h&2&&(a.innerText=e[1]("projects.titre")),t.$set(a)},i(e){n||(S(t.$$.fragment,e),n=!0)},o(e){L(t.$$.fragment,e),n=!1},d(e){M(t,e),e&&o(i),e&&o(s),r[2](null)}}}function k(r,t,i){let s;z(r,E,a=>i(1,s=a));let n;D(()=>{e()});async function e(){new O({width:window.innerWidth,height:window.innerHeight}).createScene(n)}function h(a){$[a?"unshift":"push"](()=>{n=a,i(0,n)})}return[n,s,h]}class N extends l{constructor(t){super(),d(this,t,k,W,u,{})}}export{N as component,K as universal};
