import{S as k,i as D,s as E,k as u,l as x,m as S,h as f,n as H,b as I,G as j,H as v,o as q}from"../chunks/index.137f5445.js";import{T,S as W,A as V,D as B,s as M,t as F,a as O,f as $,q as N,b,h as U,i as J,u as K,P as Q,W as X,L as Y,v as Z,c as ee,d as ae,C as te}from"../chunks/three.module.cb2436d1.js";import{O as se}from"../chunks/OrbitControls.872887f5.js";import{G as ie}from"../chunks/lil-gui.esm.5b862306.js";function oe(y){let s,o,t;return{c(){s=u("div"),o=u("div"),t=u("canvas"),this.h()},l(r){s=x(r,"DIV",{});var a=S(s);o=x(a,"DIV",{class:!0});var m=S(o);t=x(m,"CANVAS",{class:!0}),S(t).forEach(f),m.forEach(f),a.forEach(f),this.h()},h(){H(t,"class","webgl svelte-1xjiexi"),H(o,"class","app svelte-1xjiexi")},m(r,a){I(r,s,a),j(s,o),j(o,t)},p:v,i:v,o:v,d(r){r&&f(s)}}}function ne(y){return q(()=>{ae.enabled=!1;const s=new ee,o=new T(s);o.load("/three/journey/16/textures/bakedShadow.jpg"),o.load("/three/journey/16/textures/simpleShadow.jpg");const t=new ie,r=document.querySelector("canvas.webgl"),a=new W,m=new V(16777215,.3);t.add(m,"intensity").min(0).max(1).step(.001),a.add(m);const e=new B(16777215,.3);e.position.set(2,2,-1),e.castShadow=!0,e.shadow.mapSize.width=512,e.shadow.mapSize.height=512,e.shadow.radius=2,e.shadow.blurSamples=8,e.shadow.camera.near=1,e.shadow.camera.far=11,e.shadow.camera.top=3,e.shadow.camera.bottom=-3,e.shadow.camera.left=-3,e.shadow.camera.right=3;const L=new M(e.shadow.camera);L.visible=!1,a.add(L),t.add(e,"intensity").min(0).max(1).step(.001),t.add(e.position,"x").min(-5).max(5).step(.001),t.add(e.position,"y").min(-5).max(5).step(.001),t.add(e.position,"z").min(-5).max(5).step(.001),a.add(e);const n=new F(16777215,.3,10,Math.PI*.3);n.position.set(0,2,2),n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.shadow.camera.near=2,n.shadow.camera.far=5,a.add(n),a.add(n.target);const z=new M(n.shadow.camera);z.visible=!1,a.add(z);const d=new O(16777215,.2,10);d.castShadow=!0,d.shadow.mapSize.width=1024,d.shadow.mapSize.height=1024,d.shadow.camera.near=2,d.shadow.camera.far=7,d.position.set(-2,2,-2);const C=new M(d.shadow.camera);C.visible=!1,a.add(d,C);const p=new $;p.roughness=.7,t.add(p,"metalness").min(0).max(1).step(.001),t.add(p,"roughness").min(0).max(1).step(.001);const A=new N;a.add(A);const w=new b(new U(.5,32,32),p);w.castShadow=!0;const l=new b(new J(5,5),p);l.rotation.x=-Math.PI*.5,l.position.y=-.5,l.receiveShadow=!0,a.add(w,l);const P=new b(new K(1.5,1.5),p),i={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{i.width=window.innerWidth,i.height=window.innerHeight,h.aspect=i.width/i.height,h.updateProjectionMatrix(),c.setSize(i.width,i.height),c.setPixelRatio(Math.min(window.devicePixelRatio,2))});const h=new Q(75,i.width/i.height,.1,100);h.position.x=1,h.position.y=1,h.position.z=2,a.add(h);const _=new se(h,r);_.enableDamping=!0;const c=new X({canvas:r,alpha:!0});c.outputColorSpace=Y,c.setSize(i.width,i.height),c.setPixelRatio(Math.min(window.devicePixelRatio,2)),c.shadowMap.enabled=!0,c.shadowMap.type=Z;const R=new te,G=()=>{const g=R.getElapsedTime();_.update(),w.position.x=Math.cos(g),w.position.y=Math.abs(Math.sin(g*3)),w.position.z=Math.sin(g),P.position.x=w.position.x,P.position.z=w.position.z,c.render(a,h),window.requestAnimationFrame(G)};G()}),[]}class we extends k{constructor(s){super(),D(this,s,ne,oe,E,{})}}export{we as component};
